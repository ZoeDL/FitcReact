webpackJsonp([66],{OAXg:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("Z60a"),a=t.n(o),c=t("j/rp"),r=t.n(c),s=t("C9uT"),i=t.n(s),l=t("T/v0"),u=t.n(l),p=t("tNLN"),d=t.n(p),v=t("GiK3"),h=t.n(v),f=t("YPht"),y=t("S6G3"),k=(t.n(y),t("KSGD")),m=t.n(k),b=t("W7GU"),g=h.a.createElement("span",null,"Code: "),O=h.a.createElement("span",null,"State: "),j=function(e){function n(){var e,t,o;a()(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return u()(o,(t=o=u()(this,(e=d()(n)).call.apply(e,[this].concat(r))),o.wxLogin=function(){var e=o.props,n=e.dispatch,t=e.location,a=t.query.code;n({type:"wechat/reqWxLogin",payload:{socket:o.context.socket,params:{code:a}}})},o.handleResponse=function(e){var n=o.props.dispatch,t=o.context.socket;switch(e.messageName){case b.i.WX_LOGIN:n({type:"login/logined",payload:{socket:t,response:e}});break;case b.i.LOGIN:n({type:"login/sessionRes",payload:e})}},t))}return i()(n,[{key:"componentDidMount",value:function(){this.wxLogin()}},{key:"render",value:function(){var e=this.props.location.query;return h.a.createElement("div",null,h.a.createElement("div",null,g,h.a.createElement("span",null,e.code)),h.a.createElement("div",null,O,h.a.createElement("span",null,e.state)),h.a.createElement(f.a,{event:"svevent",handler:this.handleResponse}))}}]),r()(n,e),n}(h.a.Component);j.contextTypes={socket:m.a.object.isRequired};var x=function(e){e.wechat;return{}};n.default=Object(y.connect)(x)(j)},YPht:function(e,n,t){"use strict";var o=t("Z60a"),a=t.n(o),c=t("j/rp"),r=t.n(c),s=t("C9uT"),i=t.n(s),l=t("T/v0"),u=t.n(l),p=t("tNLN"),d=t.n(p),v=t("GiK3"),h=t.n(v),f=t("KSGD"),y=t.n(f),k=t("in0d"),m=t("HvoK"),b=function(e){function n(){var e,t,o;a()(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return u()(o,(t=o=u()(this,(e=d()(n)).call.apply(e,[this].concat(r))),o.onHander=function(e){var n=o.props.handler;n&&n(Object(m.a)(e))},t))}return i()(n,[{key:"componentDidMount",value:function(){var e=this.props.event,n=this.context.socket.socket;if(!n)return void Object(k.b)("Socket IO connection has not been established.");n.on(e,this.onHander)}},{key:"componentWillUnmount",value:function(){var e=this.props.event,n=this.context.socket.socket;if(!n)return void Object(k.b)("Socket IO connection has not been established.");n.off(e,this.onHander)}},{key:"render",value:function(){return!1}}]),r()(n,e),n}(h.a.Component);b.defaultProps={event:"svevent"},b.contextTypes={socket:y.a.object.isRequired},n.a=b}});